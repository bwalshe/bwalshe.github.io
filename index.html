<!DOCTYPE html>
<html>
  <head>
    <script src="https://d3js.org/d3.v4.min.js"></script>
   
  </head>
  <body>
     <svg id="svg"></svg>
     <script type="text/javascript">
       var width = 1000;
       var height = 900;
       var xorig = 200;
       var yorig = 100;

       var svgSelection = d3.select("svg")
         .attr("width", width)
         .attr("height", height);
       var backgroundRect = svgSelection.append("rect")
         .attr("width", width)
         .attr("height", height)
         .attr("fill","black");

       var signals = d3.text("signals.csv",function(lines){
          var parsedLines = d3.csvParseRows(lines);
          var yStepSize = (height-2*yorig)/parsedLines.length;
          var xStepSize = (width-2*xorig)/(parsedLines[0].length-1);
          svgSelection.selectAll("g")
             .data(parsedLines)
             .enter()
             .append("svg:g")
             .attr("fill","black")
             .attr("transform",function(d,i){return "translate("+xorig+","+(yorig+i*yStepSize)+") scale(1,-1)"})//+yStepSize+")"})

         

          svgSelection.selectAll("g")
             .append("svg:rect")
             .attr("width",width-2*xorig)
             .attr("height",yStepSize)
             .attr("y",-yStepSize+1)
             .attr("stroke","none")

          svgSelection.selectAll("g")
             .append("polyline")
             .attr("points",function(d,lineNo){
                return d.map(function(y,i){return i*xStepSize+","+y*10*yStepSize}).join(" ")
                })
             .attr("stroke","white")
             .attr("stroke-width","2");
         
          svgSelection.selectAll("g")
             .on("mouseover",function(d){
                d3.select(this).transition()
                .duration(50)
                .style("fill","grey")
                })
             .on("mouseout",function(d){
                d3.select(this).transition()
                .duration(300)
                .style("fill","black")
                });
          
       })
      
    </script>
    <p>Radio, live transmission...</p>
  </body>
</html>

